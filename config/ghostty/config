# ============================================================================
# GHOSTTY CONFIGURATION FOR UBUNTU/LINUX
# Place this file at: ~/.config/ghostty/config
# ============================================================================

# =========================
# THEME & COLORS
# =========================
# Beautiful dark theme with automatic light/dark switching
# NOTE: Ghostty 1.2.0 changed theme names to Title Case
# Run 'ghostty +list-themes' to see all available theme names
theme = "light:Catppuccin Latte,dark:Catppuccin Mocha"
# theme = "light:Builtin Solarized Light,dark:Builtin Solarized Dark"

# Alternatively, for a single theme:
# theme = "TokyoNight"

# Custom color adjustments (optional - comment out if using theme)
# background = 1e1e2e
# foreground = cdd6f4
# selection-background = 45475a
# selection-foreground = cdd6f4
# cursor-color = f5e0dc

# Minimum contrast for better readability
minimum-contrast = 1.1

# =========================
# FONT CONFIGURATION
# =========================
# JetBrainsMono Nerd Font for Nerd Font icons (Starship prompt, etc.)
# Installed via Nix: pkgs.nerd-fonts.jetbrains-mono
font-family = JetBrainsMono Nerd Font
# Fallback fonts for better Unicode support (emoji, CJK characters)
font-family = Noto Color Emoji
font-family = Noto Sans CJK JP

# Font size (adjust to your preference)
font-size = 12

# Enable programming ligatures (for fonts that support them)
font-feature = +liga
font-feature = +calt
font-feature = +dlig  # Discretionary ligatures (disabled by default in 1.2.0)

# Fine-tune font metrics (optional)
adjust-cell-height = 10%
adjust-font-baseline = -1

# =========================
# WINDOW & APPEARANCE
# =========================
# Background transparency and blur for a modern look
background-opacity = 0.95
background-blur = 10

# Window padding for breathing room
window-padding-x = 16
window-padding-y = 16
window-padding-balance = true
window-padding-color = background

# Enable native decorations based on your desktop environment
window-decoration = auto

# Theme follows system light/dark mode
window-theme = auto

# Split configuration
unfocused-split-opacity = 0.85
split-divider-color = 45475a

# Resize overlay settings
resize-overlay = after-first
resize-overlay-position = center
resize-overlay-duration = 750ms

# Will always save window state whenever Ghostty is exited.
window-save-state = always

# =========================
# PERFORMANCE & BEHAVIOR
# =========================
# GTK single instance mode for faster subsequent launches
gtk-single-instance = desktop

# Enable Adwaita for better GNOME integration (if available)
# gtk-adwaita = true  # Uncomment if your Ghostty version supports it

# Tab bar configuration
gtk-tabs-location = top
gtk-wide-tabs = true

# Scrollback buffer (in bytes, ~100MB)
scrollback-limit = 100000000

# Cursor settings
cursor-style = block
cursor-style-blink = true
cursor-opacity = 0.95
cursor-click-to-move = true

# Mouse behavior
mouse-hide-while-typing = true
mouse-scroll-multiplier = 1.0
focus-follows-mouse = false

# =========================
# SHELL INTEGRATION
# =========================
# Auto-detect and inject shell integration
shell-integration = detect
shell-integration-features = cursor,sudo,title

# Default shell (leave unset to use system default)
# command = /usr/bin/zsh

# Working directory inheritance
window-inherit-working-directory = true
window-inherit-font-size = false

# =========================
# CLIPBOARD & SECURITY
# =========================
# Clipboard settings
clipboard-read = ask
clipboard-write = allow
clipboard-trim-trailing-spaces = true
clipboard-paste-protection = true
copy-on-select = true

# Security
title-report = false

# =========================
# PRODUCTIVITY KEYBINDINGS
# =========================
# Clear default keybinds and set custom ones
# keybind = clear  # Uncomment to start fresh

# Window management
keybind = ctrl+shift+n=new_window
keybind = ctrl+shift+t=new_tab
keybind = ctrl+shift+enter=new_split:right
keybind = ctrl+shift+d=new_split:down
keybind = ctrl+shift+w=close_surface
keybind = ctrl+shift+q=quit

# Tab navigation (removed Ctrl+1-9 to avoid conflicts - use default behavior)
keybind = ctrl+tab=next_tab
keybind = ctrl+shift+tab=previous_tab

# Split navigation (removed ctrl+shift+k to avoid duplicate with clear_screen)
keybind = ctrl+shift+h=goto_split:left
keybind = ctrl+shift+j=goto_split:bottom
keybind = ctrl+shift+l=goto_split:right

# Alternative arrow key navigation for splits
# these interfere with tmux/byobu
# keybind = alt+left=goto_split:left
# keybind = alt+right=goto_split:right
keybind = alt+up=goto_split:top
keybind = alt+down=goto_split:bottom

# Split management
keybind = ctrl+shift+z=toggle_split_zoom
keybind = ctrl+shift+equal=equalize_splits

# Scrolling
keybind = shift+page_up=scroll_page_up
keybind = shift+page_down=scroll_page_down
keybind = ctrl+shift+home=scroll_to_top
keybind = ctrl+shift+end=scroll_to_bottom

# Alternative scroll bindings
# keybind = ctrl+shift+k=scroll_page_up
# keybind = ctrl+shift+j=scroll_page_down

# Copy/Paste
keybind = ctrl+shift+c=copy_to_clipboard
keybind = ctrl+shift+v=paste_from_clipboard
keybind = shift+insert=paste_from_selection

# Font size adjustment
keybind = ctrl+plus=increase_font_size:1
keybind = ctrl+minus=decrease_font_size:1
keybind = ctrl+0=reset_font_size

# Search (when implemented)
# keybind = ctrl+shift+f=search

# Configuration reload
keybind = ctrl+shift+comma=reload_config

# Tab management
keybind = ctrl+shift+left=previous_tab
keybind = ctrl+shift+right=next_tab
keybind = ctrl+shift+alt+left=move_tab:-1
keybind = ctrl+shift+alt+right=move_tab:1

# Quick terminal toggle (dropdown terminal)
# Uncomment if you want a dropdown terminal:
# keybind = ctrl+grave=toggle_quick_terminal

# Jump to prompts (requires shell integration)
keybind = ctrl+shift+up=jump_to_prompt:-1
keybind = ctrl+shift+down=jump_to_prompt:1

# Clear screen
# NOTE: Disabled in Ghostty 1.2.0 to allow passthrough to SSH/byobu sessions
# keybind = ctrl+l=clear_screen

# =========================
# NOTIFICATIONS
# =========================
desktop-notifications = true
# app-notifications = clipboard-copy

# =========================
# TERMINAL BEHAVIOR
# =========================
# Confirm before closing windows with running processes
confirm-close-surface = true

# Window state management
window-save-state = always

# Bold text uses bright colors
bold-is-bright = true

# Exit behavior
confirm-close-surface = false
quit-after-last-window-closed = true
# quit-after-last-window-closed-delay = 2s

# URL clicking
link-url = true

# =========================
# ADVANCED FEATURES
# =========================
# Custom shaders (optional - for visual effects)
# custom-shader = /path/to/shader.glsl
# custom-shader-animation = false

# Linux-specific optimizations
linux-cgroup = single-instance
# Memory limit per terminal (2GB)
linux-cgroup-memory-limit = 2147483648
# Process limit per terminal
linux-cgroup-processes-limit = 1000

# Initial window size (in cells)
window-width = 120
window-height = 40

# Quick terminal configuration (dropdown terminal)
quick-terminal-position = top
quick-terminal-screen = main
quick-terminal-animation-duration = 0.2
quick-terminal-autohide = true

# =========================
# PLATFORM-SPECIFIC SETTINGS
# =========================
# GTK/GNOME specific
# gtk-titlebar = true
# gtk-titlebar-hide-when-maximized = false
# Toolbar style (if available in your version)
# adw-toolbar-style = raised

# Darwin (MacOs) specific
macos-titlebar-style = transparent
macos-titlebar-proxy-icon = hidden
macos-dock-drop-behavior = window
macos-icon = glass
auto-update = off

# For KDE users, you might want:
# window-decoration = server

# =========================
# TROUBLESHOOTING OPTIONS
# =========================
# Uncomment these if you have issues:
# freetype-load-flags = no-hinting
# gtk-single-instance = false
term = xterm-256color
